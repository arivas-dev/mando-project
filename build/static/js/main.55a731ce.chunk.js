(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[5],{109:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={common:{server:"Sorry, there was a problem..."},auth:{incomplete:"Please, enter email and password.",badRequest:"Invalid credentials.",sessionExpired:"Your session has expired",login:"Login successfully",logout:"Logout succesfully"},users:{created:"User created successfully",updated:"User updated successfully"},products:{created:"Product created successfully",updated:"Product updated successfully"},login:{"auth/wrong-password":"Password is incorrect","auth/user-not-found":"User not found"}}},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return _}));var r,c=n(13),s=n(0),a=n.n(s),o=n(54),u=n(153),i=n(3),l=n(16),j=n(1),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.isDirty=!0,e.isLoading=t,e.error=n},d=n(151),h=function(e,t){var n,r,c=Object(d.cloneDeep)(e);switch(t.type){case"UPDATE_USER_META_PROPS":b(c.user,t.isLoading,t.error);break;case"UPDATE_USER_DATA":n=c.user,r=t.user,b(n,!1,null),n.data=r;break;default:return e}return c},O=n(56),p=n(99),x=n(91),f=n(109),m=n(76),g=Object(m.f)(p.a),y=Object(x.b)(p.a),k={login:function(){return Promise.resolve("")},user:(r={email:"",id:-1,id_role:-1,name:"",role:"user"},{data:r,error:null,isDirty:!1,isLoading:!1})},v=Object(j.createContext)(k),_=function(e){var t=e.children,n=Object(j.useReducer)(h,k),r=Object(l.a)(n,2),s=r[0],b=r[1],d=s.user;function p(e){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(a.a.mark((function e(t){var n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(g,"users/".concat(t));case 2:return n=e.sent,e.next=5,Object(m.d)(n);case 5:return r=e.sent,c=r.data(),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.uid);case 2:return n=e.sent,e.abrupt("return",n.role);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(j.useCallback)(function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,c,s,i,l,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b({type:"UPDATE_USER_META_PROPS",isLoading:!0}),e.prev=1,e.next=4,Object(x.c)(y,t,n);case 4:if(r=e.sent,console.log("response",r),!r){e.next=15;break}return e.next=9,P(r.user);case 9:return c=e.sent,s=r.user,i=s.accessToken,l=Object(u.a)(s,["accessToken"]),O.a.token=i,O.a.user=Object(o.a)(Object(o.a)({},l),{},{role:c}),b({type:"UPDATE_USER_DATA",user:Object(o.a)(Object(o.a)({},l),{},{role:c})}),e.abrupt("return",l);case 15:e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(1),console.log("error",e.t0),j=e.t0.code,b({type:"UPDATE_USER_META_PROPS",isLoading:!1,error:f.a.login[j]}),e.abrupt("return",f.a.login[j]||"Error");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),[b]);return Object(c.jsx)(v.Provider,{value:{user:d,login:w},children:t})}},166:function(e,t,n){},168:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n(1),s=n(44),a=n.n(s),o=(n(166),n(167),n(17)),u=n(48),i=n(251),l=n(246),j=n(248),b=n(51),d=n(56),h=(n(168),i.a.Header),O=i.a.Content,p=function(){var e=Object(o.g)().pathname.split("/").pop(),t=b.a.user_routes,n=b.a.admin_routes,c=d.a.user;return Object(r.jsxs)(i.a,{children:[Object(r.jsxs)(h,{children:[d.a.token&&Object(r.jsx)(l.a,{type:"primary",style:{float:"right",transform:"translateY(18px)"},size:"large",children:Object(r.jsx)(u.b,{to:"/login",onClick:function(){return d.a.clearToken()},children:"Logout"})}),Object(r.jsx)(j.a,{activeKey:e,theme:"dark",mode:"horizontal",items:function(){if(!(null===c||void 0===c?void 0:c.role))return[];switch(c.role){case"user":return[{key:t.hours,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/users/".concat(t.hours),children:"Hours"})})},{key:t.maintenance,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/users/".concat(t.maintenance),children:"Maintenance"})})}];case"admin":return[{key:n.hours,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/admin/".concat(n.hours),children:"Hours"})})},{key:n.maintenance,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/admin/".concat(n.maintenance),children:"Maintenance"})})},{key:n.users,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/admin/".concat(n.users),children:"Add Users"})})}]}}()})]}),Object(r.jsx)(O,{className:"app-main-content",children:Object(r.jsx)(o.b,{})})]})},x=function(e){return e.children},f=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(10)]).then(n.bind(null,404))})),m=Object(c.lazy)((function(){return Promise.all([n.e(11),n.e(15)]).then(n.bind(null,405))})),g=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(9)]).then(n.bind(null,406))})),y=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(8)]).then(n.bind(null,413))})),k=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(13)]).then(n.bind(null,409))})),v=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(12)]).then(n.bind(null,414))})),_=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(14)]).then(n.bind(null,410))})),P=function(){var e=b.a.user_routes,t=b.a.login,n=b.a.notFound,c=b.a.admin_routes;return Object(r.jsx)(u.a,{children:Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.c,{path:"/",element:Object(r.jsx)(o.a,{to:t,replace:!0})}),Object(r.jsxs)(o.c,{path:e.base,element:Object(r.jsx)(p,{}),children:[Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(o.a,{to:e.hours,replace:!0})})}),Object(r.jsx)(o.c,{path:e.hours,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(g,{})})})}),Object(r.jsx)(o.c,{path:e.maintenance,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(y,{})})})})]}),Object(r.jsxs)(o.c,{path:c.base,element:Object(r.jsx)(p,{}),children:[Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(o.a,{to:c.hours,replace:!0})})}),Object(r.jsx)(o.c,{path:c.hours,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(k,{})})})}),Object(r.jsx)(o.c,{path:c.maintenance,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(v,{})})})}),Object(r.jsx)(o.c,{path:c.users,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(x,{children:Object(r.jsx)(_,{})})})})]}),Object(r.jsx)(o.c,{path:t,element:Object(r.jsx)(f,{})}),Object(r.jsx)(o.c,{path:n,element:Object(r.jsx)(m,{})})]})})},S=n(116),w=n(250),T=function(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(w.a,{style:{width:"100%",marginTop:"4em"},size:"large",tip:"Your page is loading...",spinning:!0}),children:Object(r.jsx)(S.b,{children:Object(r.jsx)(P,{})})})},A=function(e){e&&e instanceof Function&&n.e(16).then(n.bind(null,411)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};n(244);a.a.render(Object(r.jsx)(T,{}),document.getElementById("root")),A()},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={user_routes:{base:"users",hours:"hours",maintenance:"maintenance"},admin_routes:{base:"admin",hours:"hours",users:"users-creation",maintenance:"maintenance"},login:"login",notFound:"*"}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),c=n(4),s=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"clearToken",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),this._token=null,this._user=null}},{key:"token",get:function(){return this._token||""},set:function(e){localStorage.setItem("token",e),this._token=e}},{key:"user",set:function(e){var t=JSON.stringify(e);this._user=t,localStorage.setItem("user",t)},get:function(){return this._user?JSON.parse(this._user)||{}:null}}]),e}();s._token=localStorage.getItem("token"),s._user=localStorage.getItem("user")},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(152),c=n(126),s=n(120),a=Object(r.a)({apiKey:"AIzaSyAIAL5cNd8H_iX_M7VdBIvUN_QPQ7aeYno",authDomain:"mando-project-af44d.firebaseapp.com",projectId:"mando-project-af44d",storageBucket:"mando-project-af44d.appspot.com",messagingSenderId:"123513076707",appId:"1:123513076707:web:1fea6f02c0094befc3fed6"});Object(c.b)(a),Object(s.a)(a)}},[[245,6,7]]]);
//# sourceMappingURL=main.55a731ce.chunk.js.map