{"version":3,"sources":["utils/loadable.js","store/state/initialStates.js","store/reducers/UserReducer.js","store/reducers/index.js","store/reducers/productReducer.js","store/index.js","components/privateRoute/PrivateRoute.js","components/SytemRoutes/SystemRoutes.js","utils/axios.js","App.js","reportWebVitals.js","index.js","store/actions/productActions.js","constants/api.js","utils/responses.js","constants/messages.js","firebase/index.js","contexts/AuthContext.js","store/actions/userActions.js"],"names":["initLoadable","data","isLoading","firstFetch","error","undefined","updateLoadable","loadable","initialUserState","login","users","list","meta","per_page","total","update","register","initialProductState","products","save","delete","authPersistConfig","key","storage","whitelist","persistedUserReducer","persistReducer","state","action","axios","defaults","headers","common","type","LOGIN_LOADING","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","RETRIEVE_USERS_LOADING","RETRIEVE_USERS_SUCCESS","RETRIEVE_USERS_FAILURE","REGISTER_USER_LOADING","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","UPDATE_USER_LOADING","UPDATE_USER_SUCCESS","userList","newList","map","user","id","UPDATE_USER_FAILURE","rootReducer","combineReducers","product","RETRIEVE_PRODUCTS_LOADING","RETRIEVE_PRODUCTS_SUCCESS","RETRIEVE_PRODUCTS_FAILURE","SAVE_PRODUCT_LOADING","SAVE_PRODUCT_SUCCESS","SAVE_PRODUCT_FAILURE","UPDATE_PRODUCT_LOADING","UPDATE_PRODUCT_SUCCESS","UPDATE_PRODUCT_FAILURE","DELETE_PRODUCT_LOADING","DELETE_PRODUCT_SUCCESS","DELETE_PRODUCT_FAILURE","store","createStore","applyMiddleware","thunk","persistor","persistStore","PrivateRoute","component","path","props","exact","useSelector","s","to","Login","lazy","NotFound","Register","Dashboard","SessionExpired","SystemRoutes","timeout","interceptors","response","use","responseText","status","toUpperCase","window","location","replace","Loading","style","width","padding","textAlign","tip","size","App","fallback","loading","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","saveProductSuccess","updateProductSuccess","deleteProductSuccess","retrieveProducts","skip","limit","dispatch","a","get","endpoints","retrieve","productList","attributes","errorText","errorHandler","saveProduct","refreshPage","uploadTask","ref","image","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","console","log","child","getDownloadURL","url","post","newProduct","updateProduct","patch","updatedProduct","deleteProduct","removedProduct","baseUrl","auth","logout","productId","userId","defaultMessage","messages","server","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","setLoading","useEffect","onAuthStateChanged","value","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","loginSuccess","registerUserLoading","registerUserSuccess","registerUserFailure","updateUserSuccess","retrieveUsers","page","params","usersList","registerUser","newUser","registerExternalUser","userToken","token","updateUser"],"mappings":"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","file":"static/js/main.898568fd.chunk.js","sourcesContent":["export const initLoadable = data => ({\r\n  isLoading: false,\r\n  firstFetch: true,\r\n  error: undefined,\r\n  data,\r\n});\r\n\r\nexport const updateLoadable = (loadable, isLoading, error) => {\r\n  loadable.isLoading = isLoading;\r\n  loadable.error = error;\r\n  loadable.firstFetch = false;\r\n  return loadable;\r\n};","import { initLoadable } from 'utils/loadable';\r\n\r\nexport const defaultLoadableData = () => ({ list: [], meta: { per_page: 0, total: 0 } });\r\n\r\nexport const initialUserState = () => ({\r\n  login: initLoadable(undefined),\r\n  users: initLoadable(defaultLoadableData()),\r\n  update: initLoadable(undefined),\r\n  register: initLoadable(undefined),\r\n});\r\n\r\nexport const initialProductState = () => ({\r\n  products: initLoadable(defaultLoadableData()),\r\n  save: initLoadable(undefined),\r\n  update: initLoadable(undefined),\r\n  delete: initLoadable(undefined),\r\n  register: initLoadable(undefined),\r\n});","import axios from 'axios';\r\nimport { \r\n  LOGIN_LOADING,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGOUT,\r\n  RETRIEVE_USERS_LOADING,\r\n  RETRIEVE_USERS_SUCCESS,\r\n  RETRIEVE_USERS_FAILURE,\r\n  REGISTER_USER_LOADING,\r\n  REGISTER_USER_SUCCESS,\r\n  REGISTER_USER_FAILURE,\r\n  UPDATE_USER_LOADING,\r\n  UPDATE_USER_SUCCESS,\r\n  UPDATE_USER_FAILURE,\r\n} from 'store/actions/userActions';\r\nimport { initialUserState, defaultLoadableData } from 'store/state/initialStates';\r\nimport { persistReducer } from 'redux-persist';\r\nimport { updateLoadable } from 'utils/loadable';\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage: storage,\r\n  whitelist: ['login'],\r\n}\r\n\r\nexport const userReducer = (state = initialUserState(), action) => {\r\n  if (state.login.data) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${state.login.data}`;\r\n  }\r\n  switch (action.type) {\r\n    case LOGIN_LOADING: \r\n      return {\r\n        ...state,\r\n        login: {\r\n          ...updateLoadable(state.login, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        login: {\r\n          ...updateLoadable(state.login, false),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        login: {\r\n          ...updateLoadable(state.login, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        login: {\r\n          ...updateLoadable(state.login, false, undefined),\r\n          firstFetch: true,\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case RETRIEVE_USERS_LOADING: \r\n      return {\r\n        ...state,\r\n        users: {\r\n          ...updateLoadable(state.users, true, undefined),\r\n          data: defaultLoadableData(),\r\n        }\r\n      }\r\n    \r\n    case RETRIEVE_USERS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        users: {\r\n          ...updateLoadable(state.users, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case RETRIEVE_USERS_FAILURE: \r\n      return {\r\n        ...state,\r\n        users: {\r\n          ...updateLoadable(state.users, false, action.error),\r\n          data: defaultLoadableData(),\r\n        }\r\n      }\r\n\r\n    case REGISTER_USER_LOADING: \r\n      return {\r\n        ...state,\r\n        register: {\r\n          ...updateLoadable(state.register, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case REGISTER_USER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        register: {\r\n          ...updateLoadable(state.register, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case REGISTER_USER_FAILURE: \r\n      return {\r\n        ...state,\r\n        register: {\r\n          ...updateLoadable(state.register, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n\r\n    case UPDATE_USER_LOADING: \r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case UPDATE_USER_SUCCESS:\r\n      const userList = state.users.data.list;\r\n      const newList = userList.map(user => {\r\n        if (user.id !== action.data.id) return user;\r\n        return {...user, ...action.data};\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, false, undefined),\r\n          data: action.data,\r\n        },\r\n        users: {\r\n          data: {\r\n            ...state.users.data,\r\n            list: newList,\r\n          }\r\n        }\r\n      }\r\n    \r\n    case UPDATE_USER_FAILURE: \r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    default:\r\n      return {...state};\r\n  };\r\n};\r\n\r\nexport const persistedUserReducer = persistReducer(authPersistConfig, userReducer);\r\n","import { combineReducers } from 'redux';\r\nimport { productReducer } from './productReducer';\r\nimport { persistedUserReducer } from './UserReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n    user: persistedUserReducer,\r\n    product: productReducer,\r\n});\r\n\r\nexport default rootReducer;","import { \r\n  RETRIEVE_PRODUCTS_LOADING,\r\n  RETRIEVE_PRODUCTS_SUCCESS,\r\n  RETRIEVE_PRODUCTS_FAILURE,\r\n  SAVE_PRODUCT_LOADING,\r\n  SAVE_PRODUCT_SUCCESS,\r\n  SAVE_PRODUCT_FAILURE,\r\n  UPDATE_PRODUCT_LOADING,\r\n  UPDATE_PRODUCT_SUCCESS,\r\n  UPDATE_PRODUCT_FAILURE,\r\n  DELETE_PRODUCT_LOADING,\r\n  DELETE_PRODUCT_SUCCESS,\r\n  DELETE_PRODUCT_FAILURE,\r\n} from 'store/actions/productActions';\r\nimport { initialProductState, defaultLoadableData } from 'store/state/initialStates';\r\nimport { updateLoadable } from 'utils/loadable';\r\n\r\nexport const productReducer = (state = initialProductState(), action) => {\r\n  switch (action.type) {\r\n    case RETRIEVE_PRODUCTS_LOADING: \r\n      return {\r\n        ...state,\r\n        products: {\r\n          ...updateLoadable(state.products, true, undefined),\r\n          data: defaultLoadableData(),\r\n        }\r\n      }\r\n    \r\n    case RETRIEVE_PRODUCTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        products: {\r\n          ...updateLoadable(state.products, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case RETRIEVE_PRODUCTS_FAILURE: \r\n      return {\r\n        ...state,\r\n        products: {\r\n          ...updateLoadable(state.products, false, action.error),\r\n          data: defaultLoadableData(),\r\n        }\r\n      }\r\n    \r\n    case SAVE_PRODUCT_LOADING: \r\n      return {\r\n        ...state,\r\n        save: {\r\n          ...updateLoadable(state.save, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case SAVE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        save: {\r\n          ...updateLoadable(state.save, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case SAVE_PRODUCT_FAILURE: \r\n      return {\r\n        ...state,\r\n        save: {\r\n          ...updateLoadable(state.save, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case UPDATE_PRODUCT_LOADING: \r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case UPDATE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case UPDATE_PRODUCT_FAILURE: \r\n      return {\r\n        ...state,\r\n        update: {\r\n          ...updateLoadable(state.update, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case DELETE_PRODUCT_LOADING: \r\n      return {\r\n        ...state,\r\n        delete: {\r\n          ...updateLoadable(state.delete, true, undefined),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    case DELETE_PRODUCT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        delete: {\r\n          ...updateLoadable(state.delete, false, undefined),\r\n          data: action.data,\r\n        }\r\n      }\r\n    \r\n    case DELETE_PRODUCT_FAILURE: \r\n      return {\r\n        ...state,\r\n        delete: {\r\n          ...updateLoadable(state.delete, false, action.error),\r\n          data: undefined,\r\n        }\r\n      }\r\n    \r\n    default: \r\n      return {...state}\r\n  }\r\n}","import { persistStore } from 'redux-persist'\r\nimport thunk from 'redux-thunk';\r\nimport { applyMiddleware, createStore } from 'redux';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nexport const PrivateRoute = ({ component, path, exact, ...props }) => {\r\n  const { data } = useSelector(s => s.user.login);\r\n\r\n  if (!data) {\r\n    return <Redirect to=\"/login\" />\r\n  } else {\r\n    return <Route exact component={component} path={path} {...props} />;\r\n  }\r\n\r\n}\r\n","import { PrivateRoute } from 'components/privateRoute/PrivateRoute';\r\nimport React, { lazy } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nconst Login = lazy(() => import('pages/login/Login'));\r\nconst NotFound = lazy(() => import('pages/notFound/NotFound'));\r\nconst Register = lazy(() => import('pages/register/Register'));\r\nconst Dashboard = lazy(() => import('pages/dashboard/Dashboard'));\r\nconst SessionExpired = lazy(() => import('pages/sessionExpired/SessionExpired'));\r\n\r\n\r\nexport const SystemRoutes = () => (\r\n  <Switch> \r\n    <Route exact path=\"/\" component={Login} />\r\n    <Route exact path=\"/login\" component={Login} />\r\n    <Route exact path=\"/register\" component={Register} />\r\n    <PrivateRoute path=\"/dashboard\" component={Dashboard} />\r\n    <Route exact path=\"/session-expired\" component={SessionExpired} />\r\n    <Route path=\"*\" component={NotFound} />\r\n  </Switch>\r\n);\r\n","import axios from 'axios';\r\naxios.defaults.timeout = 30000;\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    const responseText = response.data && response.data.status \r\n      ? response.data.status\r\n      : ''; \r\n    if (\r\n      response.status === 200 &&\r\n      responseText.toUpperCase() === 'TOKEN IS EXPIRED'\r\n    ) {\r\n      // window.location.href = '/session-expired';\r\n      window.location.replace('/session-expired');\r\n    }\r\n    return response;\r\n  },\r\n);","import { Provider } from 'react-redux';\r\nimport { store, persistor } from 'store';\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport { Spin } from 'antd';\r\nimport { SystemRoutes } from 'components/SytemRoutes/SystemRoutes';\r\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport React, { Suspense } from 'react';\r\nimport 'utils/axios';\r\nimport './App.css';\r\nimport 'bulma/css/bulma.css'\r\nimport { AuthProvider } from \"contexts/AuthContext\"\r\n\r\nconst Loading = () => (\r\n  <div style={{ width: '100%', padding: '1em 0', textAlign: 'center' }}>\r\n    <Spin tip=\"Please wait...\" size=\"large\" />\r\n  </div>\r\n);\r\n\r\nfunction App() {\r\n  return (\r\n    <Suspense fallback={<Loading />}>\r\n      <Provider store={store}>\r\n        <PersistGate loading={<Loading />} persistor={persistor}>\r\n          <Router>\r\n            <AuthProvider>\r\n              <Switch>\r\n                <SystemRoutes />\r\n              </Switch>\r\n            </AuthProvider>\r\n          </Router>\r\n        </PersistGate>\r\n      </Provider>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'antd/dist/antd.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import axios from 'axios';\r\nimport { endpoints } from 'constants/api';\r\nimport { errorHandler } from 'utils/responses';\r\n// import { storage } from '../../firebase'\r\n\r\nconst storage = () => {}\r\n\r\nexport const RETRIEVE_PRODUCTS_LOADING = 'RETRIEVE_PRODUCTS_LOADING';\r\nexport const RETRIEVE_PRODUCTS_SUCCESS = 'RETRIEVE_PRODUCTS_SUCCESS';\r\nexport const RETRIEVE_PRODUCTS_FAILURE = 'RETRIEVE_PRODUCTS_FAILURE';\r\n\r\nexport const SAVE_PRODUCT_LOADING = 'SAVE_PRODUCT_LOADING';\r\nexport const SAVE_PRODUCT_SUCCESS = 'SAVE_PRODUCT_SUCCESS';\r\nexport const SAVE_PRODUCT_FAILURE = 'SAVE_PRODUCT_FAILURE';\r\n\r\nexport const UPDATE_PRODUCT_LOADING = 'UPDATE_PRODUCT_LOADING';\r\nexport const UPDATE_PRODUCT_SUCCESS = 'UPDATE_PRODUCT_SUCCESS';\r\nexport const UPDATE_PRODUCT_FAILURE = 'UPDATE_PRODUCT_FAILURE';\r\n\r\nexport const DELETE_PRODUCT_LOADING = 'DELETE_PRODUCT_LOADING';\r\nexport const DELETE_PRODUCT_SUCCESS = 'DELETE_PRODUCT_SUCCESS';\r\nexport const DELETE_PRODUCT_FAILURE = 'DELETE_PRODUCT_FAILURE';\r\n\r\nconst retrieveProductsLoading = () => ({ type: RETRIEVE_PRODUCTS_LOADING });\r\nconst retrieveProductsSuccess = productPage => ({ type: RETRIEVE_PRODUCTS_SUCCESS, data: productPage });\r\nconst retrieveProductsFailure = error => ({ type: RETRIEVE_PRODUCTS_FAILURE, error });\r\n\r\nconst saveProductLoading = () => ({ type: SAVE_PRODUCT_LOADING });\r\nconst saveProductSuccess = product => ({ type: SAVE_PRODUCT_SUCCESS, data: product });\r\nconst saveProductFailure = error => ({ type: SAVE_PRODUCT_FAILURE, error });\r\n\r\nconst updateProductLoading = () => ({ type: UPDATE_PRODUCT_LOADING });\r\nconst updateProductSuccess = product => ({ type: UPDATE_PRODUCT_SUCCESS, data: product });\r\nconst updateProductFailure = error => ({ type: UPDATE_PRODUCT_FAILURE, error });\r\n\r\nconst deleteProductLoading = () => ({ type: DELETE_PRODUCT_LOADING });\r\nconst deleteProductSuccess = product => ({ type: DELETE_PRODUCT_SUCCESS, data: product });\r\nconst deleteProductFailure = error => ({ type: DELETE_PRODUCT_FAILURE, error });\r\n\r\nexport const retrieveProducts = (skip, limit) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(retrieveProductsLoading());\r\n      const response = await axios.get(endpoints.products.retrieve, { skip, limit });\r\n      const { data: { data: list = [], meta } } = response;\r\n      const productList = list.map(product => ({ ...product.attributes, id: product.id }));\r\n      dispatch(retrieveProductsSuccess({\r\n        list: productList,\r\n        meta,\r\n      }));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(retrieveProductsFailure(errorText));\r\n    }\r\n  };\r\n};\r\n\r\nexport const saveImage = () => {\r\n\r\n}\r\nexport const saveProduct = (product, refreshPage) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(saveProductLoading());\r\n      //image\r\n      const uploadTask = storage.ref(`images/${product.image.name}`).put(product.image);\r\n      await uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => {\r\n          const progress = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n          );\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        },\r\n        () => {\r\n          storage\r\n            .ref(\"images\")\r\n            .child(product.image.name)\r\n            .getDownloadURL()\r\n            .then(async url => {\r\n\r\n              product.image = url\r\n\r\n              const response = await axios.post(endpoints.products.save, { ...product, image: url });\r\n              const newProduct = response.data;\r\n              dispatch(saveProductSuccess(newProduct));\r\n              await dispatch(retrieveProducts(refreshPage));\r\n            });\r\n        }\r\n      );\r\n\r\n    } catch (error) {\r\n      console.log(\"🚀 ~ file: productActions.js ~ line 92 ~ saveProduct ~ error\", error.response)\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(saveProductFailure(errorText));\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateProduct = (product, refreshPage) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(updateProductLoading());\r\n      //image\r\n      const uploadTask = storage.ref(`images/${product.image.name}`).put(product.image);\r\n      await uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => {\r\n          const progress = Math.round(\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n          );\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        },\r\n        () => {\r\n          storage\r\n            .ref(\"images\")\r\n            .child(product.image.name)\r\n            .getDownloadURL()\r\n            .then(async url => {\r\n\r\n              product.image = url\r\n\r\n              const response = await axios.patch(endpoints.products.update(product.id), product);\r\n              const updatedProduct = response.data;\r\n              dispatch(updateProductSuccess(updatedProduct));\r\n              await dispatch(retrieveProducts(refreshPage));\r\n            });\r\n        }\r\n      );\r\n\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(updateProductFailure(errorText));\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteProduct = (product, refreshPage) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(deleteProductLoading());\r\n      const response = await axios.delete(endpoints.products.delete(product.id), product);\r\n      const removedProduct = response.data;\r\n      dispatch(deleteProductSuccess(removedProduct));\r\n      await dispatch(retrieveProducts(refreshPage));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(deleteProductFailure(errorText));\r\n    }\r\n  };\r\n};\r\n","\r\nconst baseUrl = 'https://warm-escarpment-23462.herokuapp.com/api/v1';\r\nexport const endpoints = {\r\n  auth: {\r\n    login: `${baseUrl}/login`,\r\n    logout: `${baseUrl}/logout`,\r\n    register: `${baseUrl}/register`\r\n  },\r\n  products: {\r\n    retrieve: `${baseUrl}/products`,\r\n    save: `${baseUrl}/products`,\r\n    update: (productId) => `${baseUrl}/products/${productId}`,\r\n    delete: (productId) => `${baseUrl}/products/${productId}`,\r\n  },\r\n  users: {\r\n    retrieve: `${baseUrl}/user`,\r\n    update: (userId) => `${baseUrl}/user/${userId}`,\r\n  }\r\n};\r\n","import { messages } from 'constants/messages';\r\n\r\nexport const errorHandler = (response, defaultMessage = messages.common.server) => {\r\n  console.log('response', response);\r\n  const { data = { }, status } = response || { };\r\n  switch (status) {\r\n    case 400: return data.error || defaultMessage;\r\n    case 404: return data.error || defaultMessage;\r\n    case 500: return messages.common.server;\r\n    default: return messages.common.server;\r\n  }\r\n}\r\n","export const messages = {\r\n  \"common\":  {\r\n    \"server\": 'Sorry, there was a problem...',\r\n  },\r\n  \"auth\": {\r\n    \"incomplete\" :  'Please, enter email and password.',\r\n    \"badRequest\" :  'Invalid credentials.',\r\n    \"sessionExpired\":  'Your session has expired',\r\n    \"login\": \"Login successfully\",\r\n    \"logout\": 'Logout succesfully',\r\n  },\r\n  \"users\": {\r\n    \"created\": \"User created successfully\",\r\n    \"updated\": \"User updated successfully\",\r\n  },\r\n  \"products\": {\r\n    \"created\": \"Product created successfully\",\r\n    \"updated\": \"Product updated successfully\",\r\n  }\r\n};","import firebase from \"firebase/app\"\r\nimport \"firebase/auth\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAIAL5cNd8H_iX_M7VdBIvUN_QPQ7aeYno\",\r\n    authDomain: \"mando-project-af44d.firebaseapp.com\",\r\n    projectId: \"mando-project-af44d\",\r\n    storageBucket: \"mando-project-af44d.appspot.com\",\r\n    messagingSenderId: \"123513076707\",\r\n    appId: \"1:123513076707:web:1fea6f02c0094befc3fed6\"\r\n  };\r\n  \r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = app.auth()\r\nexport default app\r\n","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { auth } from \"../firebase\"\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState()\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  function signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password)\r\n  }\r\n\r\n  function logout() {\r\n    return auth.signOut()\r\n  }\r\n\r\n  function resetPassword(email) {\r\n    return auth.sendPasswordResetEmail(email)\r\n  }\r\n\r\n  function updateEmail(email) {\r\n    return currentUser.updateEmail(email)\r\n  }\r\n\r\n  function updatePassword(password) {\r\n    return currentUser.updatePassword(password)\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user)\r\n      setLoading(false)\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const value = {\r\n    currentUser,\r\n    login,\r\n    signup,\r\n    logout,\r\n    resetPassword,\r\n    updateEmail,\r\n    updatePassword\r\n  }\r\n    console.log(\"AuthProvider  -  currentUser\", currentUser);\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n","import axios from 'axios';\r\nimport { endpoints } from 'constants/api';\r\nimport { errorHandler } from 'utils/responses';\r\n\r\n//LOGIN\r\nexport const LOGIN_LOADING = 'LOGIN_LOADING';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n//CRUD\r\nexport const RETRIEVE_USERS_LOADING = 'RETRIEVE_USERS_LOADING';\r\nexport const RETRIEVE_USERS_SUCCESS = 'RETRIEVE_USERS_SUCCESS';\r\nexport const RETRIEVE_USERS_FAILURE = 'RETRIEVE_USERS_FAILURE';\r\n\r\nexport const REGISTER_USER_LOADING = 'REGISTER_USER_LOADING';\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS';\r\nexport const REGISTER_USER_FAILURE = 'REGISTER_USER_FAILURE';\r\n\r\nexport const UPDATE_USER_LOADING = 'UPDATE_USER_LOADING';\r\nexport const UPDATE_USER_SUCCESS = 'UPDATE_USER_SUCCESS';\r\nexport const UPDATE_USER_FAILURE = 'UPDATE_USER_FAILURE';\r\n\r\n//LOGIN\r\nconst loginLoading = () => ({ type: LOGIN_LOADING });\r\nconst loginFailure = error => ({ type: LOGIN_FAILURE, error });\r\nconst loginSuccess = data => ({ type: LOGIN_SUCCESS, data });\r\nexport const logout = () => ({ type: LOGOUT });\r\n\r\n//CRUD\r\nconst retrieveUsersLoading = () => ({ type: RETRIEVE_USERS_LOADING });\r\nconst retrieveUsersSuccess = userPage => ({ type: RETRIEVE_USERS_SUCCESS, data: userPage });\r\nconst retrieveUsersFailure = error => ({ type: RETRIEVE_USERS_FAILURE, error });\r\n\r\nconst registerUserLoading = () => ({ type: REGISTER_USER_LOADING });\r\nconst registerUserSuccess = user => ({ type: REGISTER_USER_SUCCESS, data: user });\r\nconst registerUserFailure = error => ({ type: REGISTER_USER_FAILURE, error });\r\n\r\nconst updateUserLoading = () => ({ type: UPDATE_USER_LOADING });\r\nconst updateUserSuccess = user => ({ type: UPDATE_USER_SUCCESS, data: user });\r\nconst updateUserFailure = error => ({ type: UPDATE_USER_FAILURE, error });\r\n\r\nexport const login = user => {\r\n  return async dispatch => {\r\n    dispatch(loginLoading());\r\n    try {\r\n      const response = await axios.post(endpoints.auth.login, user);\r\n      const userToken = response.data.token;\r\n      dispatch(loginSuccess(userToken));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(loginFailure(errorText));\r\n    }\r\n  };\r\n}\r\n\r\n//CRUD\r\nexport const retrieveUsers = page => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(retrieveUsersLoading());\r\n      const response = await axios.get(endpoints.users.retrieve, { params: { page } });\r\n      const { data: { data: list = [], meta } } = response;\r\n      const usersList = list.map(user => ({...user.attributes, id: user.id }));\r\n      dispatch(retrieveUsersSuccess({\r\n        list: usersList,\r\n        meta,\r\n      }));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(retrieveUsersFailure(errorText));\r\n    }\r\n  };\r\n};\r\n\r\nexport const registerUser = (user, refreshPage) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(registerUserLoading());\r\n      const response = await axios.post(endpoints.auth.register, user);\r\n      console.log(\"🚀 ~ file: userActions.js ~ line 81 ~ registerUser ~ response\", response)\r\n      const newUser = response.data.user;\r\n      dispatch(registerUserSuccess(newUser));\r\n      await dispatch(retrieveUsers(refreshPage));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(registerUserFailure(errorText));\r\n    }\r\n  };\r\n};\r\nexport const registerExternalUser = (user, refreshPage) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(registerUserLoading());\r\n      const response = await axios.post(endpoints.auth.register, user);\r\n      console.log(\"🚀 ~ file: userActions.js ~ line 96 ~ registerExternalUser ~ response\", response)\r\n      const userToken = response.data.token;\r\n      console.log(\"🚀 ~ file: userActions.js ~ line 97 ~ registerExternalUser ~ userToken\", userToken)\r\n      dispatch(loginSuccess(userToken));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(registerUserFailure(errorText));\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateUser = user => {\r\n  return async dispatch => {\r\n    try {\r\n      \r\n      dispatch(updateUserLoading());\r\n      await axios.patch(endpoints.users.update(user.id), user);\r\n      dispatch(updateUserSuccess(user));\r\n    } catch (error) {\r\n      const errorText = errorHandler(error.response);\r\n      dispatch(updateUserFailure(errorText));\r\n    }\r\n  };\r\n};\r\n"],"sourceRoot":""}