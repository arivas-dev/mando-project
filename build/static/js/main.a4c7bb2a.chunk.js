(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[5],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(151),c=n(125),a=Object(r.a)({apiKey:"AIzaSyAIAL5cNd8H_iX_M7VdBIvUN_QPQ7aeYno",authDomain:"mando-project-af44d.firebaseapp.com",projectId:"mando-project-af44d",storageBucket:"mando-project-af44d.appspot.com",messagingSenderId:"123513076707",appId:"1:123513076707:web:1fea6f02c0094befc3fed6"});Object(c.b)(a)},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={common:{server:"Sorry, there was a problem..."},auth:{incomplete:"Please, enter email and password.",badRequest:"Invalid credentials.",sessionExpired:"Your session has expired",login:"Login successfully",logout:"Logout succesfully"},users:{created:"User created successfully",updated:"User updated successfully"},products:{created:"Product created successfully",updated:"Product updated successfully"},login:{"auth/wrong-password":"Password is incorrect","auth/user-not-found":"User not found"}}},119:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return _}));var r,c=n(13),a=n(0),s=n.n(a),o=n(54),u=n(152),i=n(3),l=n(16),j=n(1),d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.isDirty=!0,e.isLoading=t,e.error=n},b=n(150),h=function(e,t){var n,r,c=Object(b.cloneDeep)(e);switch(t.type){case"UPDATE_USER_META_PROPS":d(c.user,t.isLoading,t.error);break;case"UPDATE_USER_DATA":n=c.user,r=t.user,d(n,!1,null),n.data=r;break;default:return e}return c},O=n(56),p=n(100),f=n(97),m=n(109),x=n(79),g=Object(x.f)(p.a),y=Object(f.a)(p.a),v={login:function(){return Promise.resolve("")},user:(r={email:"",id:-1,id_role:-1,name:"",role:"user"},{data:r,error:null,isDirty:!1,isLoading:!1})},k=Object(j.createContext)(v),_=function(e){var t=e.children,n=Object(j.useReducer)(h,v),r=Object(l.a)(n,2),a=r[0],d=r[1],b=a.user;function p(e){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)(g,"users/".concat(t));case 2:return n=e.sent,e.next=5,Object(x.d)(n);case 5:return r=e.sent,c=r.data(),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t.uid);case 2:return n=e.sent,e.abrupt("return",n.role);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=Object(j.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t,n){var r,c,a,i,l,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:"UPDATE_USER_META_PROPS",isLoading:!0}),e.prev=1,e.next=4,Object(f.b)(y,t,n);case 4:if(r=e.sent,console.log("response",r),!r){e.next=15;break}return e.next=9,P(r.user);case 9:return c=e.sent,a=r.user,i=a.accessToken,l=Object(u.a)(a,["accessToken"]),O.a.token=i,O.a.user=Object(o.a)(Object(o.a)({},l),{},{role:c}),d({type:"UPDATE_USER_DATA",user:Object(o.a)(Object(o.a)({},l),{},{role:c})}),e.abrupt("return",l);case 15:e.next=23;break;case 17:return e.prev=17,e.t0=e.catch(1),console.log("error",e.t0),j=e.t0.code,d({type:"UPDATE_USER_META_PROPS",isLoading:!1,error:m.a.login[j]}),e.abrupt("return",m.a.login[j]||"Error");case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),[d]);return Object(c.jsx)(k.Provider,{value:{user:b,login:w},children:t})}},165:function(e,t,n){},167:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var r=n(13),c=n(1),a=n(44),s=n.n(a),o=(n(165),n(166),n(17)),u=n(50),i=n(250),l=n(245),j=n(247),d=n(51),b=n(56),h=(n(167),i.a.Header),O=i.a.Content,p=function(){var e=Object(o.g)().pathname.split("/").pop(),t=d.a.user_routes,n=d.a.admin_routes,c=b.a.user;return Object(r.jsxs)(i.a,{children:[Object(r.jsxs)(h,{children:[b.a.token&&Object(r.jsx)(l.a,{type:"primary",style:{float:"right",transform:"translateY(18px)"},size:"large",children:Object(r.jsx)(u.b,{to:"/login",onClick:function(){return b.a.clearToken()},children:"Logout"})}),Object(r.jsx)(j.a,{activeKey:e,theme:"dark",mode:"horizontal",items:function(){if(!(null===c||void 0===c?void 0:c.role))return[];switch(c.role){case"user":return[{key:t.hours,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/users/".concat(t.hours),children:"Hours"})})},{key:t.maintenance,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/users/".concat(t.maintenance),children:"Maintenance"})})}];case"admin":return[{key:n.hours,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/admin/".concat(n.hours),children:"Hours"})})},{key:n.maintenance,label:Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(u.b,{to:"/admin/".concat(n.maintenance),children:"Maintenance"})})}]}}()})]}),Object(r.jsx)(O,{className:"app-main-content",children:Object(r.jsx)(o.b,{})})]})},f=function(e){return e.children},m=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(10)]).then(n.bind(null,403))})),x=Object(c.lazy)((function(){return Promise.all([n.e(11),n.e(14)]).then(n.bind(null,404))})),g=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(9)]).then(n.bind(null,405))})),y=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(8)]).then(n.bind(null,409))})),v=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(13)]).then(n.bind(null,406))})),k=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(12)]).then(n.bind(null,410))})),_=function(){var e=d.a.user_routes,t=d.a.login,n=d.a.notFound,c=d.a.admin_routes;return Object(r.jsx)(u.a,{children:Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.c,{path:"/",element:Object(r.jsx)(o.a,{to:t,replace:!0})}),Object(r.jsxs)(o.c,{path:e.base,element:Object(r.jsx)(p,{}),children:[Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(o.a,{to:e.hours,replace:!0})})}),Object(r.jsx)(o.c,{path:e.hours,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(g,{})})})}),Object(r.jsx)(o.c,{path:e.maintenance,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(y,{})})})})]}),Object(r.jsxs)(o.c,{path:c.base,element:Object(r.jsx)(p,{}),children:[Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(o.a,{to:c.hours,replace:!0})})}),Object(r.jsx)(o.c,{path:c.hours,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(v,{})})})}),Object(r.jsx)(o.c,{path:c.maintenance,children:Object(r.jsx)(o.c,{index:!0,element:Object(r.jsx)(f,{children:Object(r.jsx)(k,{})})})})]}),Object(r.jsx)(o.c,{path:t,element:Object(r.jsx)(m,{})}),Object(r.jsx)(o.c,{path:n,element:Object(r.jsx)(x,{})})]})})},P=n(119),S=n(249),w=function(){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(S.a,{style:{width:"100%",marginTop:"4em"},size:"large",tip:"Your page is loading...",spinning:!0}),children:Object(r.jsx)(P.b,{children:Object(r.jsx)(_,{})})})},T=function(e){e&&e instanceof Function&&n.e(15).then(n.bind(null,407)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};n(243);s.a.render(Object(r.jsx)(w,{}),document.getElementById("root")),T()},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={user_routes:{base:"users",hours:"hours",maintenance:"maintenance"},admin_routes:{base:"admin",hours:"hours",users:"users-creation",maintenance:"maintenance"},login:"login",notFound:"*"}},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),c=n(4),a=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"clearToken",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),this._token=null,this._user=null}},{key:"token",get:function(){return this._token||""},set:function(e){localStorage.setItem("token",e),this._token=e}},{key:"user",set:function(e){var t=JSON.stringify(e);this._user=t,localStorage.setItem("user",t)},get:function(){return this._user?JSON.parse(this._user)||{}:null}}]),e}();a._token=localStorage.getItem("token"),a._user=localStorage.getItem("user")}},[[244,6,7]]]);
//# sourceMappingURL=main.a4c7bb2a.chunk.js.map